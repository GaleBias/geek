<audio title="02 _ å¦‚ä½•å°†å®¹å™¨é•œåƒéƒ¨ç½²åˆ°K8sï¼Ÿ" src="https://static001.geekbang.org/resource/audio/6b/a1/6bb650d53e92bdbce55717061b2c9da1.mp3" controls="controls"></audio> 
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç‹ç‚œã€‚</p><p>ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å®¹å™¨é•œåƒçš„æ¦‚å¿µä»¥åŠå¦‚ä½•å°†ä¸šåŠ¡æ„å»ºæˆå®¹å™¨é•œåƒã€‚å®¹å™¨é•œåƒæ˜¯æˆ‘ä»¬å­¦ä¹ äº‘åŸç”Ÿçš„èµ·ç‚¹ï¼ŒåŒæ—¶ä¹Ÿä¼šè´¯ç©¿åœ¨äº‘åŸç”Ÿçš„å„ä¸ªç¯èŠ‚ä¹‹ä¸­ï¼Œå¸Œæœ›ä½ èƒ½å¤šèŠ±ç‚¹æ—¶é—´å·©å›ºã€‚è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹å¦‚ä½•å°†å®¹å™¨é•œåƒéƒ¨ç½²åˆ° K8sã€‚</p><p>K8s çš„ç³»ç»Ÿè®¾è®¡éå¸¸å¤æ‚ï¼Œè¿™å¯¼è‡´å®ƒçš„å­¦ä¹ æ›²çº¿éå¸¸é™¡å³­ã€‚å°¤å…¶æ˜¯å¯¹äºåˆšå…¥é—¨çš„åŒå­¦è€Œè¨€ï¼Œé¢å¯¹ç¹æ‚çš„æ¦‚å¿µæ—¶å¾€å¾€ä¼šä¸çŸ¥æ‰€æªï¼Œä¹Ÿæ— ä»ä¸‹æ‰‹ã€‚å†åŠ ä¸Šå­¦ä¹ è¿‡ç¨‹ç¼ºä¹å®æˆ˜æ€§çš„åé¦ˆï¼Œå¾ˆå®¹æ˜“å¯¼è‡´â€œä»å…¥é—¨åˆ°æ”¾å¼ƒâ€çš„æƒ…å†µå‡ºç°ã€‚</p><p>æ‰€ä»¥è¿™èŠ‚è¯¾ï¼Œæˆ‘æ‰“ç®—æ‘’å¼ƒæ¦‚å¿µå…ˆè¡Œçš„æ•™å­¦æ–¹æ³•ï¼Œä»å®æˆ˜çš„è§’åº¦å‡ºå‘ï¼Œå¸¦ä½ ä»é›¶å…¥é—¨ K8sã€‚</p><p><strong>æˆ‘ä¼šç»§ç»­å»¶ä¼¸ä¸Šä¸€èŠ‚è¯¾ç¨‹çš„å†…å®¹ï¼Œå¸¦ä½ æŠŠä¹‹å‰æ„å»ºçš„å®¹å™¨é•œåƒéƒ¨ç½²åˆ° K8s é›†ç¾¤ä¸­ã€‚</strong>åœ¨å®æˆ˜çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿä¼šè®²è§£ K8s çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µã€‚</p><p>åœ¨å¼€å§‹å®è·µä¹‹å‰ï¼Œä½ éœ€è¦åšå¥½ä»¥ä¸‹å‡†å¤‡ï¼š</p><ul>
<li>å‡†å¤‡ä¸€å°ç”µè„‘ï¼ˆé¦–é€‰ Linux æˆ– macOSï¼ŒWindows ä¹Ÿé€‚ç”¨ï¼Œéœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹æ“ä½œä¸Šçš„å·®å¼‚ï¼‰ï¼›</li>
<li><a href="https://docs.docker.com/engine/install/">å®‰è£… Docker</a>ï¼›</li>
<li><a href="https://kubernetes.io/docs/tasks/tools/">å®‰è£… Kubectl</a>ã€‚</li>
</ul><h2>å®‰è£… Kubernetes</h2><p>å¦‚ä½•è·å¾—ä¸€ä¸ª K8s é›†ç¾¤æ˜¯æ¯ä¸€ä¸ªå¼€å‘è€…éœ€è¦ç†Ÿç»ƒæŒæ¡çš„å†…å®¹ã€‚</p><p>å®‰è£… K8s çš„æ–¹æ³•éå¸¸å¤šï¼Œæœ‰ç”Ÿäº§çº§çš„å®‰è£…æ–¹æ³•ï¼Œä¹Ÿæœ‰ä»¥æµ‹è¯•ä¸ºç›®æ ‡çš„å®‰è£…æ–¹æ³•ã€‚ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œè¿™é‡Œæˆ‘æ¨èä¸€ç§åœ¨æœ¬åœ°å®‰è£… K8s é›†ç¾¤çš„åŠæ³•ï¼šKindã€‚</p><!-- [[[read_end]]] --><p>é¦–å…ˆï¼Œä½ éœ€è¦æ ¹æ®<a href="https://kind.sigs.k8s.io/docs/user/quick-start/#installation">å®˜æ–¹æ­¥éª¤</a>å®‰è£… Kindï¼Œå®ƒæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œä½¿ç”¨éå¸¸ç®€å•ã€‚</p><p><strong>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¼€å§‹åˆ›å»º K8sã€‚</strong></p><p>å°†ä»¥ä¸‹å†…å®¹ä¿å­˜ä¸º config.yamlï¼š</p><pre><code class="language-yaml">kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
nodes:
- role: control-plane
  kubeadmConfigPatches:
  - |
    kind: InitConfiguration
    nodeRegistration:
      kubeletExtraArgs:
        node-labels: "ingress-ready=true"
  extraPortMappings:
  - containerPort: 80
    hostPort: 80
    protocol: TCP
  - containerPort: 443
    hostPort: 443
    protocol: TCP
</code></pre><p>æ‰§è¡Œ kind create å‘½ä»¤ï¼Œåˆ›å»º K8s é›†ç¾¤ï¼š</p><pre><code class="language-yaml">â¯ kind create cluster --config config.yaml
Creating cluster "kind" ...
&nbsp;âœ“ Ensuring node image (kindest/node:v1.23.4) ğŸ–¼
&nbsp;âœ“ Preparing nodes ğŸ“¦&nbsp;&nbsp;
&nbsp;âœ“ Writing configuration ğŸ“œ&nbsp;
&nbsp;âœ“ Starting control-plane ğŸ•¹ï¸&nbsp;
&nbsp;âœ“ Installing CNI ğŸ”Œ&nbsp;
&nbsp;âœ“ Installing StorageClass ğŸ’¾&nbsp;
Set kubectl context to "kind-kind"
You can now use your cluster with:

kubectl cluster-info --context kind-kind
</code></pre><p>é€šè¿‡è¿™ä¸¤ä¸ªç®€å•çš„æ­¥éª¤ï¼Œæˆ‘ä»¬çš„æœ¬åœ° K8s é›†ç¾¤å°±åˆ›å»ºå¥½äº†ã€‚</p><h2>åˆè¯† Kubernetes</h2><p>K8s çš„æ¦‚å¿µæ—¢å¤šåˆå¤æ‚ï¼Œå¦‚æœåƒæ•™ç§‘ä¹¦ä¸€æ ·æŠŠè¿™äº›æ¦‚å¿µä¸€æ¡ä¸€æ¡ç»™ä½ è®²å‡ºæ¥ï¼Œæœ€åä½ å¯èƒ½ä¹Ÿè®°ä¸ä½ã€‚æ‰€ä»¥ï¼Œæˆ‘ä¹Ÿä¸æ‰“ç®—è¿™ä¹ˆåšã€‚</p><p><strong>æˆ‘æƒ³å…ˆé—®ä½ ä¸€ä¸ªé—®é¢˜ï¼šDocker å·²ç»æŒºå¥½ç”¨äº†ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜éœ€è¦ K8s å‘¢ï¼Ÿä½ å¯ä»¥è¯•ç€ç”¨ 30 ç§’æ¥æ€è€ƒä¸€ä¸‹ã€‚</strong></p><p>æˆ‘ç”¨ä¸€ä¸ªåœºæ™¯æ¥ç»™ä½ è§£é‡Šä¸€ä¸‹ã€‚è¿˜è®°å¾—æˆ‘ä»¬åœ¨ä¸ŠèŠ‚è¯¾æåˆ°çš„å¯åŠ¨ä¸€ä¸ªå®¹å™¨çš„æ–¹æ³•å—ï¼Ÿè¿™æ¡å‘½ä»¤éå¸¸ç®€å•ï¼Œåªéœ€è¦è¿è¡Œ docker run å°±å¯ä»¥äº†ã€‚</p><p>ä½†æ˜¯è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä½ éœ€è¦åŒæ—¶å¯åŠ¨ 10 ä¸ªä¸åŒçš„å®¹å™¨é•œåƒï¼Œæ˜¯ä¸æ˜¯éœ€è¦è¿è¡Œ 10 æ¬¡ docker run å‘½ä»¤å‘¢ï¼Ÿæ­¤å¤–ï¼Œå¦‚æœå®¹å™¨ä¹‹é—´æœ‰ä¾èµ–é¡ºåºï¼Œä½ æ˜¯ä¸æ˜¯è¿˜éœ€è¦é¢å¤–è®°ä½è¿™ 10 æ¡å‘½ä»¤ç‰¹å®šçš„å¯åŠ¨é¡ºåºï¼Ÿ</p><p>K8s çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºï¼Œå®ƒä¸ºæˆ‘ä»¬æŠ½è±¡äº†è¯¸å¦‚â€œå¯åŠ¨ 10 ä¸ªå®¹å™¨é•œåƒâ€è¿™æ ·çš„è¿‡ç¨‹å¼çš„å‘½ä»¤ï¼Œä½ åªéœ€è¦å‘ K8s æè¿°â€œæˆ‘éœ€è¦ 10 ä¸ªå®¹å™¨â€ã€‚10 ä¸ªå®¹å™¨æ˜¯æˆ‘æœŸæœ›çš„æœ€ç»ˆçŠ¶æ€ï¼Œæˆ‘ä¸ç®¡æ€ä¹ˆæ‰§è¡Œå‘½ä»¤ï¼Œæ‰§è¡Œäº†å¤šå°‘æ¬¡å‘½ä»¤ç­‰è¿‡ç¨‹ï¼Œæˆ‘æƒ³è¦çš„å°±æ˜¯è¿™ä¸ªç»“æœã€‚</p><p><strong>ç”¨æ¥å‘ K8s æè¿°â€œæœŸæœ›æœ€ç»ˆçŠ¶æ€â€çš„æ–‡ä»¶ï¼Œå°±å«åš K8s Manifestï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºæ¸…å•æ–‡ä»¶ã€‚</strong>Manifest å°±å¥½æ¯”é¤å…çš„èœå•ï¼Œä½ åªç®¡ç‚¹èœï¼Œåšèœçš„è¿‡ç¨‹æˆ‘ä¸ç®¡ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å¼•å‡ºäº†ç¬¬ä¸€ä¸ªæ¦‚å¿µï¼š<strong>Manifestã€‚</strong>ç®€å•åœ°è¯´ï¼Œå®ƒæ˜¯ç”¨æ¥æè¿°å¦‚ä½•å°†å®¹å™¨é•œåƒéƒ¨ç½²åˆ°é›†ç¾¤ä¸­çš„ã€‚Manifest çš„æ¦‚å¿µéå¸¸é‡è¦ï¼Œå®ƒä¼šè´¯ç©¿æ•´ä¸ª K8s çš„ç”Ÿæ€ç³»ç»Ÿï¼Œæ‰€ä»¥è¯·ä½ åŠ¡å¿…è¦ç†è§£ã€‚</p><p><strong>ç°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬æœ‰äº†ä¸€ä¸ª Manifestï¼Œæˆ‘è¦å¦‚ä½•å‘Šè¯‰ K8så‘¢ï¼Ÿæ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬æ€ä¹ˆå’Œ K8s äº¤æµï¼Ÿè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªå·¥å…·ï¼šKubectlã€‚</strong></p><p>Kubectl æ˜¯ä¸€ä¸ªä¸ K8s é›†ç¾¤äº¤äº’çš„å·¥å…·ï¼Œé€šè¿‡ Kubectlï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸æ–¹ä¾¿åœ°ä»¥ Manifest ä¸ºåª’ä»‹æ“ä½œ K8s é›†ç¾¤çš„å¯¹è±¡ã€‚å°±åƒæ“ä½œæ•°æ®åº“ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ Manifest æ‰€æè¿°çš„å¯¹è±¡è¿›è¡Œåˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥æ‰¾ç­‰æ“ä½œã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»ç¼–å†™ Manifest å¼€å§‹ï¼Œçœ‹çœ‹æ€ä¹ˆå°†ä¸ŠèŠ‚è¯¾åˆ¶ä½œçš„å®¹å™¨é•œåƒéƒ¨ç½²åˆ° K8s é›†ç¾¤ä¸­ã€‚</p><h3>éƒ¨ç½²å®¹å™¨é•œåƒåˆ° K8s</h3><p>è¦å°†å®¹å™¨é•œåƒéƒ¨ç½²åˆ° K8s é›†ç¾¤ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ä¹¦å†™ Manifestã€‚æˆ‘ä»¬éœ€è¦å°†ä¸‹é¢çš„å†…å®¹ä¿å­˜ä¸º flask-pod.yamlï¼š</p><pre><code class="language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: hello-world-flask
spec:
  containers:
    - name: flask
      image: lyzhang1999/hello-world-flask:latest
      ports:
        - containerPort: 5000
</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ kubectl apply åº”ç”¨è¿™æ®µ Manifestï¼š</p><pre><code class="language-powershell">$ kubectl apply -f flask-pod.yaml
pod/hello-world-flask created
</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨ Kind åˆ›å»ºé›†ç¾¤åï¼Œå®ƒä¼šè‡ªåŠ¨é…ç½® Kubectl å’Œ Kind é›†ç¾¤çš„è¿æ¥ã€‚å¦‚æœè¿æ¥é…ç½®ä¸æ­£ç¡®ï¼Œä½ å¯ä»¥æ‰§è¡Œ kind export kubeconfig æ¥åˆ‡æ¢é›†ç¾¤è¿æ¥çš„ä¸Šä¸‹æ–‡ã€‚</p><p>å¦‚æœæˆåŠŸçœ‹åˆ°è¾“å‡ºå†…å®¹ pod/hello-world-flask createdï¼Œè¯´æ˜æˆ‘ä»¬å·²ç»æŠŠè¿™æ®µ Manifest æäº¤åˆ°é›†ç¾¤é‡Œäº†ã€‚å‚æ•° -f è¡¨ç¤ºâ€œæŒ‡å®šä¸€ä¸ª Manifest æ–‡ä»¶â€ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>å½“æˆ‘ä»¬æƒ³è¦å‘ K8s æäº¤ Manifest çš„æ—¶å€™ï¼Œåªéœ€è¦è®°ä½ä¸€æ¡å‘½ä»¤ï¼Œé‚£å°±æ˜¯ kubectl applyã€‚</strong></p><p>æˆ‘ä»¬å¯¹ä¸Šé¢çš„ Manifest åšä¸€äº›å¿…è¦çš„è§£é‡Šã€‚å…¶å®è¿™é‡Œåªéœ€è¦èšç„¦å››ä¸ªå­—æ®µï¼Œåˆ†åˆ«æ˜¯<strong>Kindã€Containersã€Imageã€Portsã€‚</strong></p><p>Kind å­—æ®µè¡¨ç¤º K8s çš„å·¥ä½œè´Ÿè½½ç±»å‹ã€‚åœ¨ K8s ä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½åƒ Docker ä¸€æ ·ç›´æ¥è¿è¡Œä¸€ä¸ªå®¹å™¨é•œåƒï¼Œé•œåƒéœ€è¦ä¾èµ–äº K8s æ›´ä¸Šå±‚çš„å°è£…æ–¹å¼è¿è¡Œï¼Œè¿™ç§å°è£…æ–¹å¼ä¹Ÿå°±æ˜¯å·¥ä½œè´Ÿè½½ï¼ŒPod æ˜¯å·¥ä½œè´Ÿè½½çš„ä¸€ç§ç±»å‹ã€‚</p><p>æ¯ä¸ªå·¥ä½œè´Ÿè½½æœ‰è‡ªå·±çš„åå­—ï¼Œä¹Ÿå°±æ˜¯ Metadata èŠ‚ç‚¹ä¸‹çš„ Name å­—æ®µã€‚</p><p>ä¸ºäº†æ›´å¥½åœ°å¸®åŠ©ä½ ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ Pod ç±»æ¯”æˆè™šæ‹ŸåŒ–æŠ€æœ¯ä¸­çš„ VM ï¼Œæˆ–è€…æ˜¯ Docker æŠ€æœ¯çš„å®¹å™¨ï¼Œå®ƒä»¬éƒ½æ˜¯ä¸€ç§è°ƒåº¦å¯¹è±¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://static001.geekbang.org/resource/image/81/d6/815da454855183b74507910ee3e567d6.jpg?wh=1920x875" alt="å›¾ç‰‡"></p><p><strong>åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥åˆ›å»º Pod ç±»å‹çš„å·¥ä½œè´Ÿè½½</strong>ï¼Œè€Œæ˜¯ä¼šé€šè¿‡å…¶å®ƒçš„å·¥ä½œè´Ÿè½½é—´æ¥åˆ›å»ºå®ƒä»¬ã€‚å¦‚æœä½ ç°åœ¨è¿˜ä¸èƒ½ç†è§£ Pod çš„æ¦‚å¿µä¹Ÿæ²¡å…³ç³»ï¼Œåªéœ€è¦è®°ä½<strong>å®ƒæ˜¯ K8s è°ƒåº¦çš„æœ€å°å•ä½å°±å¯ä»¥äº†ã€‚</strong></p><p>Containers å­—æ®µä»£è¡¨ Pod è¦è¿è¡Œçš„å®¹å™¨é…ç½®ï¼Œä¾‹å¦‚åç§°ã€é•œåƒå’Œç«¯å£ç­‰ã€‚ç»†å¿ƒçš„ä½ ä¼šæ³¨æ„åˆ°ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ª Pod é‡Œé¢é…ç½®å¤šä¸ªå®¹å™¨ã€‚</p><p>Image å­—æ®µè¡¨ç¤ºå®¹å™¨é•œåƒã€‚æ˜¾ç„¶ï¼Œè¿™é‡Œæˆ‘ä»¬å¸Œæœ›å¯åŠ¨çš„æ˜¯ä¸ŠèŠ‚è¯¾åˆ¶ä½œçš„é•œåƒï¼Œä¹Ÿå°±æ˜¯ lyzhang1999/hello-world-flaskã€‚éœ€è¦æ³¨æ„å°†è¿™é‡Œçš„ lyzhang1999 æ›¿æ¢ä¸ºä½ è‡ªå·±çš„ docker hub è´¦æˆ· IDã€‚</p><p>Ports å­—æ®µè¡¨ç¤ºå®¹å™¨è¦æš´éœ²çš„ç«¯å£ã€‚å®ƒæœ‰ç‚¹åƒæˆ‘ä»¬åœ¨ä¸ŠèŠ‚è¯¾æåˆ°çš„å¯åŠ¨é•œåƒæ—¶æš´éœ²çš„å®¹å™¨ç«¯å£ï¼Œä¹Ÿå°±æ˜¯ docker run çš„ p å‚æ•°ã€‚å¾ˆæ˜¾ç„¶æˆ‘ä»¬å¸Œæœ›æš´éœ² 5000 ç«¯å£ï¼Œä¹Ÿå°±æ˜¯ä¸šåŠ¡è¿›ç¨‹çš„ç›‘å¬ç«¯å£ã€‚</p><p><strong>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­å›åˆ°å®æˆ˜ç¯èŠ‚ã€‚</strong></p><p>å½“æˆ‘ä»¬æŠŠ Manifest éƒ¨ç½²åˆ° K8s é›†ç¾¤ä¹‹åï¼Œä¼šé¢ä¸´ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol>
<li>å¦‚ä½•æŸ¥çœ‹åˆšæ‰æäº¤çš„ Podï¼Ÿ</li>
<li>å¦‚ä½•è®¿é—® Podï¼Ÿ</li>
</ol><h3>æŸ¥çœ‹å’Œè®¿é—® Pod</h3><p>å…ˆçœ‹ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚è¦æŸ¥çœ‹ K8s é›†ç¾¤æ­£åœ¨è¿è¡Œä¸­çš„ Podï¼Œä½ å¯ä»¥ä½¿ç”¨ kubectl get pods ï¼š</p><pre><code class="language-powershell">$ kubectl get pods
NAME&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; READY&nbsp; &nbsp;STATUS&nbsp; &nbsp; RESTARTS&nbsp; &nbsp;AGE
hello-world-flask&nbsp; &nbsp;1/1&nbsp; &nbsp; &nbsp;Running&nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1m
</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œç»“æœä¸­è¿”å›äº†åˆšæ‰éƒ¨ç½²åä¸º hello-world-flask çš„ Podï¼ŒçŠ¶æ€ä¸ºâ€œè¿è¡Œä¸­â€ã€‚è¿˜è®°å¾—ä¸ŠèŠ‚è¯¾æˆ‘ä»¬æåˆ°æ€ä¹ˆæŸ¥çœ‹è¿è¡Œä¸­å®¹å™¨çš„å‘½ä»¤å—ï¼Ÿæ˜¯ä¸æ˜¯éå¸¸ç±»ä¼¼ï¼Ÿ</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•è®¿é—® Podã€‚è¦åœ¨æœ¬åœ°è®¿é—®é›†ç¾¤å†…çš„ Podï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ kubectl port-forward å‘½ä»¤è¿›è¡Œç«¯å£è½¬å‘æ“ä½œï¼Œæ‰“é€šå®¹å™¨å’Œæœ¬åœ°ç½‘ç»œï¼š</p><pre><code class="language-powershell">$ kubectl port-forward pod/hello-world-flask 8000:5000
Forwarding from 127.0.0.1:8000 -&gt; 5000
Forwarding from [::1]:8000 -&gt; 5000
</code></pre><p>ä½ å¯èƒ½ä¼šé—®ï¼Œæ—¢ç„¶å·²ç»åœ¨ Manifest é‡Œå®šä¹‰äº† Ports å‚æ•°ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦è¿›è¡Œç«¯å£è½¬å‘æ“ä½œå‘¢ï¼Ÿé‚£æ˜¯å› ä¸º Ports å‚æ•°åªå®šä¹‰äº† Pod åœ¨é›†ç¾¤å†…éƒ¨æš´éœ²çš„ç«¯å£ï¼Œè¿™ä¸ªç«¯å£å¯ä»¥åœ¨é›†ç¾¤å†…éƒ¨è¿›è¡Œè®¿é—®ã€‚<strong>ä½†æˆ‘ä»¬æœ¬åœ°å’Œé›†ç¾¤çš„ç½‘ç»œæ˜¯éš”ç¦»çš„ï¼Œè‡ªç„¶ä¸èƒ½åœ¨é›†ç¾¤å¤–éƒ¨ï¼Œä¹Ÿå°±æ˜¯æœ¬åœ°ç”µè„‘è®¿é—® Podã€‚</strong></p><p>æ‰§è¡Œ kubectl port-forward ä¹‹åï¼Œæˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨è®¿é—® 127.0.0.1:8000 å°±å¯ä»¥çœ‹åˆ°è¾“å‡ºäº†ï¼š</p><pre><code class="language-powershell">Hello, my first docker images! hello-world-flask
</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç«¯å£è½¬å‘çš„è¿›ç¨‹æ˜¯åœ¨å‰å°è¿è¡Œçš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ ctrl+c ç»ˆæ­¢è½¬å‘è¿›ç¨‹ã€‚</p><p>é™¤äº†è®¿é—® Pod ä»¥å¤–ï¼Œä¸ŠèŠ‚è¯¾æˆ‘ä»¬è¿˜æåˆ°å¯ä»¥ç”¨ docker exec è¿›å…¥è¿è¡Œä¸­çš„å®¹å™¨ã€‚åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›å…¥åˆ° Pod è¿è¡Œä¸­çš„å®¹å™¨å†…ã€‚</p><p><strong>ä½ å¯ä»¥ä½¿ç”¨ kubectl exec è¿›å…¥åˆ° Pod å®¹å™¨å†…éƒ¨ï¼š</strong></p><pre><code class="language-powershell">$ kubectl exec -it hello-world-flask -- bash
root@hello-world-flask:/app#
</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œçš„ -it å‚æ•°å’Œ docker exec çš„å‚æ•°æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚åœ¨è¿›å…¥å®¹å™¨åï¼Œä½ å¯ä»¥è¯•ç€åƒç¬¬ä¸€èŠ‚è¯¾é‚£æ ·ï¼Œä¿®æ”¹ app.py çš„è¾“å‡ºï¼Œä¿å­˜ååˆ·æ–°æµè§ˆå™¨ï¼Œè§‚å¯Ÿä¸€ä¸‹æ˜¯ä¸æ˜¯ä¹Ÿèƒ½ç«‹å³çœ‹åˆ°ä¿®æ”¹ç»“æœå‘¢ï¼Ÿ</p><p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ kubectl delete å‘½ä»¤æ¥åˆ é™¤ Podï¼š</p><pre><code class="language-powershell">$ kubectl delete pod hello-world-flask
pod "hello-world-flask" deleted
</code></pre><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å®Œæˆäº†å°†å®¹å™¨é•œåƒéƒ¨ç½²åˆ° K8sï¼Œè¿˜æœ‰æŸ¥çœ‹ã€è®¿é—®å’Œåˆ é™¤ Pod è¿™ä¸€ç³»åˆ—æ“ä½œã€‚</p><h3>ä¸šåŠ¡è¿›ç¨‹ã€å®¹å™¨é•œåƒå’Œå·¥ä½œè´Ÿè½½ä¹‹é—´çš„å…³ç³»</h3><p>é€šè¿‡ä¸Šé¢çš„å®æˆ˜ï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªå®¹å™¨é•œåƒä»¥å·¥ä½œè´Ÿè½½çš„æ–¹å¼éƒ¨ç½²åˆ°äº† K8s é›†ç¾¤ä¸­ã€‚é‚£ä¹ˆå¦‚æœå†å¾€å‰è¿½æº¯åˆ°ä¸šåŠ¡å±‚é¢ï¼Œä¸šåŠ¡è¿›ç¨‹ã€å®¹å™¨é•œåƒå’Œå·¥ä½œè´Ÿè½½ä¹‹é—´çš„å…³ç³»åˆæ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</p><p>å½“æˆ‘åˆæ¬¡æ¥è§¦ K8s çš„æ—¶å€™ï¼Œæˆ‘å¯¹ä¸šåŠ¡è¿›ç¨‹ã€å®¹å™¨é•œåƒå’Œå·¥ä½œè´Ÿè½½å±‚å±‚å°è£…ï¼Œä»¥åŠä»–ä»¬ç›¸äº’ä¹‹é—´çš„å…³ç³»æ„Ÿåˆ°éå¸¸ç–‘æƒ‘ã€‚æˆ–è®¸ä½ ä¹Ÿæœ‰åŒæ ·çš„ç–‘é—®ï¼Œæˆ‘ä¸ºä½ æ€»ç»“äº†ä¸€å¼ å›¾ï¼Œå¯ä»¥å¸®åŠ©ä½ æ¢³ç†ä¸€ä¸‹å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/9d/49/9d6f6144eff75c8ceac58372dd58c749.jpg?wh=1920x1160" alt="å›¾ç‰‡"></p><p>é€šè¿‡è¿™å¼ å›¾å¯ä»¥çœ‹å‡ºï¼Œæœ€å†…å±‚æ˜¯æˆ‘ä»¬çš„ä¸šåŠ¡åº”ç”¨è¿›ç¨‹ï¼Œå¤–å±‚é€šè¿‡ Docker é•œåƒä»¥å®¹å™¨åŒ–çš„å½¢å¼è¿è¡Œï¼Œå†å¾€å¤–æ˜¯ K8s çš„æœ€å°è°ƒåº¦å•ä½ Podã€‚</p><h2>æ€»ç»“</h2><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬é€šè¿‡ Kind åœ¨æœ¬åœ°åˆ›å»ºäº†ä¸€ä¸ª K8s é›†ç¾¤ã€‚åŒæ—¶ï¼Œåœ¨å°†å®¹å™¨é•œåƒéƒ¨ç½²åˆ° K8s é›†ç¾¤çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘è¿˜ç»™ä½ ä»‹ç»äº† Manifest ä»¥åŠ K8s çš„æœ€å°è°ƒåº¦å•ä½ Pod çš„æ¦‚å¿µã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜ä»‹ç»äº†ä¸ K8s é›†ç¾¤äº¤äº’çš„å·¥å…· Kubectl åŠå…¶ç®€å•æ“ä½œï¼Œä¾‹å¦‚å‘é›†ç¾¤æäº¤ Manifestã€ç«¯å£è½¬å‘ã€æŸ¥çœ‹ã€è¿›å…¥ä»¥åŠåˆ é™¤ Pod ç­‰ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬è¿˜æ¢³ç†äº†ä¸šåŠ¡è¿›ç¨‹ã€é•œåƒã€å®¹å™¨å’Œ Pod ä¹‹é—´çš„å…³ç³»ï¼Œç†è§£å®ƒä»¬å°†æœ‰åŠ©äºä½ æœªæ¥å­¦ä¹  K8s çš„å…¶ä»–å¤æ‚æ¦‚å¿µã€‚</p><p>åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šé—®ï¼šå­¦ä¹ äº†è¿™ä¹ˆå¤šæ¦‚å¿µï¼Œä¹ŸèŠ±äº†è¿™ä¹ˆå¤šåŠªåŠ›æŠŠå®¹å™¨é•œåƒéƒ¨ç½²åˆ°äº† K8s é›†ç¾¤ï¼Œå¯æ˜¯ä¸ºä»€ä¹ˆè¿˜æ²¡çœ‹åˆ° K8s ç©¶ç«Ÿèƒ½ç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆå®é™…çš„å¥½å¤„å‘¢ï¼Ÿ</p><p>åˆ«ç€æ€¥ï¼Œä¸‹èŠ‚è¯¾ï¼Œæˆ‘ä¼šå¸¦ä½ ç›´è§‚åœ°æ„Ÿå— K8s çš„é­…åŠ›å’Œå¼ºå¤§ä¹‹å¤„ï¼š<strong>è‡ªåŠ¨æ‰©å®¹å’Œè‡ªæ„ˆã€‚</strong></p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œç»™ä½ ç•™ä¸¤é“æ€è€ƒé¢˜å§ã€‚</p><ol>
<li>Kind çš„å…¨ç§°æ˜¯ Kubernetes in Dockerï¼Œå®ƒçš„è®¾è®¡ç†å¿µéå¸¸æœ‰æ„æ€ã€‚è¯·ä½ ç»“åˆç›¸å…³èµ„æ–™ï¼Œè¯´ä¸€è¯´ä½ å¯¹å®ƒçš„ç†è§£ã€‚</li>
<li>è¯·ä½ å°è¯•ä¸º hello-world-flask Pod å¢åŠ ç¬¬äºŒä¸ªå®¹å™¨ï¼Œé•œåƒä¸º nginxï¼Œç«¯å£ä¸º 80ï¼Œå¹¶é€šè¿‡ç«¯å£è½¬å‘è®¿é—® Nginx Podã€‚</li>
</ol><p>æ¬¢è¿ä½ ç»™æˆ‘ç•™è¨€äº¤æµè®¨è®ºï¼Œä½ ä¹Ÿå¯ä»¥æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ã€‚</p>
<style>
    ul {
      list-style: none;
      display: block;
      list-style-type: disc;
      margin-block-start: 1em;
      margin-block-end: 1em;
      margin-inline-start: 0px;
      margin-inline-end: 0px;
      padding-inline-start: 40px;
    }
    li {
      display: list-item;
      text-align: -webkit-match-parent;
    }
    ._2sjJGcOH_0 {
      list-style-position: inside;
      width: 100%;
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      margin-top: 26px;
      border-bottom: 1px solid rgba(233,233,233,0.6);
    }
    ._2sjJGcOH_0 ._3FLYR4bF_0 {
      width: 34px;
      height: 34px;
      -ms-flex-negative: 0;
      flex-shrink: 0;
      border-radius: 50%;
    }
    ._2sjJGcOH_0 ._36ChpWj4_0 {
      margin-left: 0.5rem;
      -webkit-box-flex: 1;
      -ms-flex-positive: 1;
      flex-grow: 1;
      padding-bottom: 20px;
    }
    ._2sjJGcOH_0 ._36ChpWj4_0 ._2zFoi7sd_0 {
      font-size: 16px;
      color: #3d464d;
      font-weight: 500;
      -webkit-font-smoothing: antialiased;
      line-height: 34px;
    }
    ._2sjJGcOH_0 ._36ChpWj4_0 ._2_QraFYR_0 {
      margin-top: 12px;
      color: #505050;
      -webkit-font-smoothing: antialiased;
      font-size: 14px;
      font-weight: 400;
      white-space: normal;
      word-break: break-all;
      line-height: 24px;
    }
    ._2sjJGcOH_0 ._10o3OAxT_0 {
      margin-top: 18px;
      border-radius: 4px;
      background-color: #f6f7fb;
    }
    ._2sjJGcOH_0 ._3klNVc4Z_0 {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      -webkit-box-pack: justify;
      -ms-flex-pack: justify;
      justify-content: space-between;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      margin-top: 15px;
    }
    ._2sjJGcOH_0 ._10o3OAxT_0 ._3KxQPN3V_0 {
      color: #505050;
      -webkit-font-smoothing: antialiased;
      font-size: 14px;
      font-weight: 400;
      white-space: normal;
      word-break: break-word;
      padding: 20px 20px 20px 24px;
    }
    ._2sjJGcOH_0 ._3klNVc4Z_0 {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      -webkit-box-pack: justify;
      -ms-flex-pack: justify;
      justify-content: space-between;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      margin-top: 15px;
    }
    ._2sjJGcOH_0 ._3Hkula0k_0 {
      color: #b2b2b2;
      font-size: 14px;
    }
</style><ul><li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/11/8c/83/1974d757.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>é™ˆå¿—æˆ</span>
  </div>
  <div class="_2_QraFYR_0">kind æœ‰å¾ˆå¤šè®¾è®¡ç†å¿µï¼Œæ¯”å¦‚<br>1. ä¼˜é›…é™çº§<br>å› ä¸º kind æ˜¯ä¸“ä¸ºæµ‹è¯• k8s è®¾è®¡çš„ï¼Œæ‰€ä»¥è‡ªèº«å¾ˆé¡½å¼ºã€‚æ”¯æŒæ‰€æœ‰çš„ k8s å®˜æ–¹ç‰ˆæœ¬ï¼Œå¹¶ä¸”å¦‚å…¶åå­—æ‰€ç¤ºï¼Œdocker é‡Œæå‡ºæ¥çš„ k8sï¼Œé›†ç¾¤ä¾èµ–çš„æ‰€æœ‰çš„é•œåƒéƒ½æ‰“åŒ…åœ¨äº†å®ƒçš„èŠ‚ç‚¹é•œåƒé‡Œï¼Œå‰å®³çš„æ˜¯ï¼Œå¦‚æœè¿™äº›é•œåƒæŸåäº†æˆ–è€…ä¸¢å¤±äº†ï¼ŒèŠ‚ç‚¹é•œåƒè¿˜èƒ½å¸®ä½ é‡æ–°æ‹‰ä¸‹æ¥ï¼ŒçœŸæ˜¯æ‰“ä¸æ­»çš„å°å¼ºã€‚<br>2. ä¸é‡å¤å‘æ˜è½®å­<br>è™½ç„¶ç°åœ¨å·²ç»æœ‰äº†å¾ˆå¤šåŠŸèƒ½ç±»ä¼¼çš„è½¯ä»¶ï¼Œæ¯”å¦‚å¤§åé¼é¼çš„ kubeadmï¼Œä½†æ˜¯ kind å¹¶ä¸æ˜¯æ¥æ…å±€çš„ï¼Œä»–å¾ˆè°¦è™šçš„æŠ±ç€åä½œçš„æ€åº¦ï¼Œèƒ½å¤ç”¨å°±å¤ç”¨ï¼Œç«™ç¨³å·¨äººçš„è‚©è†€ï¼Œä¸“æ³¨è§£å†³ç—›ç‚¹ï¼Œåˆä½œå…±èµ¢ã€‚<br>3. æœ€å°åŒ–å‡è®¾<br>kind è¡¨ç¤ºåªè¦æ±‚å®‰è£… docker å³å¯ï¼Œå‰©ä¸‹çš„å°±äº¤ç»™æˆ‘äº†ã€‚é¿å…åšå‡ºä»»ä½•ä¸å¿…è¦çš„å‡è®¾ï¼Œminikube è¡¨ç¤ºï¼Œä½ ç¤¼è²Œå—ï¼Ÿ<br>4. å°é—­åŸåˆ™ï¼Œæ— çŠ¶æ€åŸåˆ™<br>åŠ›æ±‚æ“ä½œå¹‚ç­‰ã€é¿å…ä¾èµ–å¤–éƒ¨æœåŠ¡ï¼Œæœ¬èº«ä¸å­˜å‚¨æˆ–ç®¡ç†çŠ¶æ€ã€‚å¥½å®¶ä¼™ï¼Œä½å†…èšï¼Œé«˜è€¦åˆï¼Œæœ¬èº«è¿˜æ²¡æœ‰å‰¯ä½œç”¨ï¼Œä¸æ„§æ˜¯ kindï¼Œç¡®å®å¾ˆå‹å¥½ã€‚<br>5. é¿å…ä¼¤å®³ç”¨æˆ·ï¼Œéµå¾ª k8s API çº¦å®š<br>å•¥ï¼Ÿè¿˜æœ‰è¿™åŸåˆ™ã€‚æ¥çœ‹çœ‹éƒ½å•¥å†…å®¹ï¼Œé¿å…é…ç½®å’Œå‘½ä»¤è¡Œæ¥å£çš„ä¸å…¼å®¹æ€§ä¿®æ”¹ï¼Œä¸¥æ ¼éµå®ˆ k8s çš„å¼ƒç”¨æ”¿ç­–ï¼Œé¢å‘å¤–éƒ¨çš„ç‰¹æ€§è€ƒè™‘æ‰©å±•æ€§ä»¥åŠé•¿æœŸæ”¯æŒæ€§ï¼Œä½¿ç”¨ k8s çš„é…ç½®é£æ ¼ï¼Œå‡å°‘å‚æ•°ä¸ªæ•°...ä¸€ä¸Šæ¥å°±æµ·èª“å±±ç›Ÿè¿˜çœŸæ˜¯ä¸ä¹ æƒ¯ã€‚<br>å¦å¤–è¿˜æœ‰è‡ªåŠ¨åŒ–å’Œæ”¯æŒ CRIï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥äº†è§£äº†è§£ https:&#47;&#47;kind.sigs.k8s.io&#47;docs&#47;design&#47;principles&#47;<br><br></div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å¹½é»˜åˆä¸å¤±çŸ¥è¯†ç‚¹ï¼Œä¼˜ç§€ï¼</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-12-14 23:16:25</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/62/b8/0e1b655e.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>fireshort</span>
  </div>
  <div class="_2_QraFYR_0">Kindè¿˜æ²¡æœ‰çœ‹ã€‚<br><br>è¯´ä¸€ä¸‹æ€è€ƒé¢˜2ï¼š<br>å°† flask-pod.yaml æ›´æ–°ä¸ºï¼š<br>apiVersion: v1<br>kind: Pod<br>metadata:<br>  name: hello-world-flask<br>spec:<br>  containers:<br>    - name: flask<br>      image: lyzhang1999&#47;hello-world-flask:latest<br>      ports:<br>        - containerPort: 5000<br>    - name: nginx<br>      image: nginx:1.23.2<br>      ports:<br>        - containerPort: 80<br><br>æ‰§è¡Œ kubectl apply -f .\flask-pod.yaml å°±å¯ä»¥ã€‚<br>ç«¯å£è½¬å‘ï¼škubectl port-forward pod&#47;hello-world-flask 80:80</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: âœ…</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-12-13 14:33:50</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/12/78/6c/be47a916.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>Librant</span>
  </div>
  <div class="_2_QraFYR_0">æ¯èŠ‚è¯¾æˆ‘éƒ½åšäº†å®éªŒï¼Œæœ‰éœ€è¦çš„å¯ä»¥å‚è€ƒï¼Œå†™çš„æ¯”è¾ƒè¯¦ç»†ï¼Œgithub.com&#47;librant&#47;git-ops-learnï¼Œè§‰å¾—æœ‰ç”¨å¸®å¿™starä¸€ä¸‹å˜</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: èµï¼</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-12-20 11:39:57</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/14/10/3d/b3991de7.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>dulp</span>
  </div>
  <div class="_2_QraFYR_0">Kindæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´è½»æ¾åœ°ä½¿ç”¨Kubernetesæ„å»ºå’Œæµ‹è¯•åº”ç”¨ç¨‹åºã€‚å…¶è®¾è®¡ç†å¿µéå¸¸æœ‰è¶£ï¼Œå› ä¸ºå®ƒæä¾›äº†ä¸€ç§åœ¨æœ¬åœ°æœºå™¨ä¸Šè¿è¡ŒKubernetesé›†ç¾¤çš„æ–¹æ³•ï¼Œä½¿å¼€å‘äººå‘˜å¯ä»¥æ›´çµæ´»åœ°å·¥ä½œï¼ŒåŒæ—¶èŠ‚çœæ—¶é—´å’Œé‡‘é’±æˆæœ¬ã€‚</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2023-03-10 01:10:06</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/10/d0/00/9d05af66.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>åŠ å¤š</span>
  </div>
  <div class="_2_QraFYR_0">äº‘åŸç”Ÿ å’Œk8sä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»é‚£ï¼Ÿæˆ‘ç†è§£k8sæ˜¯å®ç°äº‘åŸç”Ÿçš„ä¸€ä¸ªå·¥å…·ï¼Ÿ</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: æ˜¯çš„ï¼Œä¸€èˆ¬æˆ‘ä»¬è®¤ä¸ºäº‘åŸç”ŸæŠ€æœ¯çš„æ ¸å¿ƒæ˜¯ Docker å’Œ K8sã€‚</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-12-25 15:03:28</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/d9/36/92d8eb91.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>Promise</span>
  </div>
  <div class="_2_QraFYR_0">1. Kindæ˜¯ä¸€ä¸ªä½¿ç”¨Dockerå®¹å™¨ &quot;èŠ‚ç‚¹ &quot;è¿è¡Œæœ¬åœ°Kubernetesé›†ç¾¤çš„å·¥å…·ã€‚ Kindä¸»è¦æ˜¯ä¸ºæµ‹è¯•Kubernetesæœ¬èº«è€Œè®¾è®¡ï¼Œä½†ä¹Ÿå¯ç”¨äºæœ¬åœ°å¼€å‘æˆ–CIã€‚<br>2. <br>apiVersion: v1<br>kind: Pod<br>metadata:<br>  name: hello-world-flask<br>spec:<br>  containers:<br>    - name: flask<br>      image: lyzhang1999&#47;hello-world-flask:latest<br>      ports:<br>        - containerPort: 5000<br>    - name: flask<br>      image: nginx:latest<br>      ports:<br>        - containerPort: 80<br>        <br> kubectl apply -f flask-pod.yaml<br> kubectl port-forward pod&#47;hello-world-flask 80:80<br><br>å…¶å®å¯ä»¥ä½¿ç”¨Serviceå’ŒIngressæ¥è®¿é—®Nginx Pod<br></div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-12-14 13:36:04</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKIRSxInCiclMszZ21FptlHSHBB2icQSdIbRX2BYdiaEfdicsWxLzqB7h01jhibpLOAu9Hd8SfbZxHBaQg/132"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>æ¸£æ¸£è¾‰</span>
  </div>
  <div class="_2_QraFYR_0">ç¬¬ä¸€é¢˜<br>Kubernetes in Dockerï¼ˆKindï¼‰æ˜¯ä¸€ä¸ªç”¨äºåœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ Kubernetes é›†ç¾¤çš„å·¥å…·ã€‚å®ƒçš„è®¾è®¡ç†å¿µæ˜¯ç®€åŒ–æœ¬åœ° Kubernetes é›†ç¾¤çš„éƒ¨ç½²å’Œæµ‹è¯•è¿‡ç¨‹ï¼Œç‰¹åˆ«æ˜¯åœ¨æŒç»­é›†æˆï¼ˆCIï¼‰ç¯å¢ƒä¸­ã€‚ä½¿ç”¨ Kindï¼Œç”¨æˆ·å¯ä»¥è½»æ¾åœ°åœ¨æœ¬åœ°æœºå™¨æˆ– CI ç¯å¢ƒä¸­åˆ›å»ºå’Œç®¡ç† Kubernetes é›†ç¾¤ã€‚<br><br>Kind çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºå®ƒçš„ä¾¿æ·æ€§å’Œé€Ÿåº¦ã€‚ç”±äºå®ƒåœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ Kubernetes é›†ç¾¤ï¼Œå› æ­¤æ— éœ€åœ¨ç‰©ç†æœºå™¨æˆ–è™šæ‹Ÿæœºä¸Šé…ç½®å’Œç®¡ç†å¤æ‚çš„ Kubernetes ç¯å¢ƒã€‚è¿™ä½¿å¾— Kind æˆä¸ºå¼€å‘å’Œæµ‹è¯• Kubernetes åº”ç”¨ç¨‹åºçš„ç†æƒ³å·¥å…·ã€‚<br><br>Kind çš„å·¥ä½œåŸç†æ˜¯åˆ©ç”¨ Docker æä¾›çš„èŠ‚ç‚¹é•œåƒï¼Œè¿™äº›é•œåƒåŒ…å«äº†è¿è¡Œ Kubernetes æ‰€éœ€çš„æ‰€æœ‰ç»„ä»¶ã€‚åˆ›å»ºé›†ç¾¤æ—¶ï¼ŒKind ä¼šå¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ª Docker å®¹å™¨ï¼Œæ¯ä¸ªå®¹å™¨ä»£è¡¨ä¸€ä¸ª Kubernetes èŠ‚ç‚¹ã€‚è¿™äº›èŠ‚ç‚¹é€šè¿‡ Docker ç½‘ç»œè¿›è¡Œé€šä¿¡ï¼Œå¹¶ç”± Kind è‡ªåŠ¨é…ç½®ã€‚è¿™ä½¿å¾— Kubernetes é›†ç¾¤çš„åˆ›å»ºå’Œç®¡ç†å˜å¾—éå¸¸ç®€å•ã€‚<br><br>æ€»ä¹‹ï¼ŒKubernetes in Dockerï¼ˆKindï¼‰æ˜¯ä¸€ä¸ªç®€åŒ–æœ¬åœ° Kubernetes é›†ç¾¤éƒ¨ç½²å’Œæµ‹è¯•çš„å·¥å…·ï¼Œå®ƒåœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ Kubernetes é›†ç¾¤ï¼Œä½¿å¾—å¼€å‘å’Œæµ‹è¯•è¿‡ç¨‹æ›´åŠ é«˜æ•ˆå’Œä¾¿æ·ã€‚<br><br>ç¬¬äºŒé¢˜<br>apiVersion: v1<br>kind: Pod<br>metadata:<br>  name: hello-world-flask<br>spec:<br>  containers:<br>    - name: flask<br>      image: lyzhang1999&#47;hello-world-flask:latest<br>      ports:<br>        - containerPort: 5000<br>    # æ·»åŠ nginx<br>    - name: nginx<br>      image: nginx:latest<br>      ports:<br>        - containerPort: 80<br>        <br></div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: ğŸ‘ğŸ»éå¸¸ç»†è‡´çš„å›ç­”ï¼</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2023-04-07 12:55:21</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIYeenVcfUP2PhW4V1y4EDptWibKBDia8lpic1KUuqaXwuydbyrnfXq9Emfbjxkddf10X6tk7vCTA6Fw/132"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>tee</span>
  </div>
  <div class="_2_QraFYR_0">kind æ‹‰èµ·é›†ç¾¤ä¹‹å  apiserveræç¤º tlsé“¾æ¥è¢«å¯¹ç«¯æ–­å¼€äº†ã€‚</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å¦å¤–æ£€æŸ¥ä¸€ä¸‹æœ¬åœ°æ˜¯å¦æœ‰å…¨å±€ä»£ç†ã€‚</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2023-02-28 17:41:16</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIYeenVcfUP2PhW4V1y4EDptWibKBDia8lpic1KUuqaXwuydbyrnfXq9Emfbjxkddf10X6tk7vCTA6Fw/132"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>tee</span>
  </div>
  <div class="_2_QraFYR_0">kubectl cluster-info --context kind-kind<br>E0228 17:26:40.271993   14830 memcache.go:238] couldn&#39;t get current server API group list: Get &quot;https:&#47;&#47;127.0.0.1:39221&#47;api?timeout=32s&quot;: read tcp 127.0.0.1:39118-&gt;127.0.0.1:39221: read: connection reset by peer - error from a previous attempt: read tcp 127.0.0.1:39100-&gt;127.0.0.1:39221: read: connection reset by peer<br></div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: çœ‹èµ·æ¥æ˜¯ KiND æ²¡æœ‰å¯åŠ¨å®Œæˆï¼Œå¯ä»¥é€šè¿‡ docker ps æŸ¥çœ‹ä¸€ä¸‹å®¹å™¨çš„è¿è¡Œæƒ…å†µã€‚å¦‚æœå®åœ¨æ— æ³•å¯åŠ¨ï¼Œä¹Ÿå¯ä»¥å°è¯•ç”¨ Minikube æ¥æ­å»º Kubernetes é›†ç¾¤ã€‚</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2023-02-28 17:32:36</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/11/a3/49/4a488f4c.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>å†œæ°‘å›­ä¸</span>
  </div>
  <div class="_2_QraFYR_0">è¯·é—®è€å¸ˆï¼Œå°†æ”¹ä¸ºç§æœ‰ä»“åº“ï¼ˆharborï¼‰åï¼Œæ‹‰å–é•œåƒå¤±è´¥ï¼Œæç¤º&quot;harbor.imustyckz.com:8443&#47;richey&#47;hello-world-flask:latest&quot;: failed to do request: Head &quot;https:&#47;&#47;harbor.imustyckz.com:8443&#47;v2&#47;richey&#47;hello-world-flask&#47;manifests&#47;latest&quot;: x509: certificate signed by unknown authority<br>åœ¨é›†ç¾¤å¤–é¢æ˜¯å¯ä»¥æ‹‰å–é•œåƒçš„ã€‚<br>æ€ä¹ˆè§£å†³ï¼Œå¯ä»¥ç»™ä¸ªæ€è·¯å—ï¼Ÿ<br><br>Events:<br>  Type     Reason     Age                From               Message<br>  ----     ------     ----               ----               -------<br>  Normal   Scheduled  29s                default-scheduler  Successfully assigned default&#47;hello-world-flask to kind-control-plane<br>  Normal   Pulling    15s (x2 over 29s)  kubelet            Pulling image &quot;harbor.imustyckz.com:8443&#47;richey&#47;hello-world-flask:latest&quot;<br>  Warning  Failed     15s (x2 over 29s)  kubelet            Failed to pull image &quot;harbor.imustyckz.com:8443&#47;richey&#47;hello-world-flask:latest&quot;: rpc error: code = Unknown desc = failed to pull and unpack image &quot;harbor.imustyckz.com:8443&#47;richey&#47;hello-world-flask:latest&quot;: failed to resolve reference &quot;harbor.imustyckz.com:8443&#47;richey&#47;hello-world-flask:latest&quot;: failed to do request: Head &quot;https:&#47;&#47;harbor.imustyckz.com:8443&#47;v2&#47;richey&#47;hello-world-flask&#47;manifests&#47;latest&quot;: x509: certificate signed by unknown authority<br>  Warning  Failed     15s (x2 over 29s)  kubelet            Error: ErrImagePull<br>  Normal   BackOff    2s (x2 over 28s)   kubelet            Back-off pulling image &quot;harbor.imustyckz.com:8443&#47;richey&#47;hello-world-flask:latest&quot;<br>  Warning  Failed     2s (x2 over 28s)   kubelet            Error: ImagePullBackOff</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å…¬å¼€æƒé™çš„æ—¶å€™æ˜¯ OK çš„å—ï¼Ÿ</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2023-01-22 23:12:07</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/1f/63/ae/eb536e1d.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>bob</span>
  </div>
  <div class="_2_QraFYR_0">è¯·é—®å„ä½å¤§ä½¬ï¼Œä½¿ç”¨kindæ­å»ºçš„k8sï¼Œåœ¨æ‹‰å–ç§åº“é•œåƒæ—¶æ€ä¹ˆæŠ¥é”™è¶…æ—¶äº†ï¼Ÿ&#47;etc&#47;docker&#47;daemon.jsonå·²ç»è®¾ç½®äº†ï¼ˆ&quot;insecure-registries&quot;:[&quot;192.168.10.116:80&quot;]ï¼‰<br>Events:<br>  Type     Reason     Age                  From               Message<br>  ----     ------     ----                 ----               -------<br>  Normal   Scheduled  4m25s                default-scheduler  Successfully assigned default&#47;hello-world-flask to kind-control-plane<br>  Normal   Pulling    88s (x4 over 4m24s)  kubelet            Pulling image &quot;192.168.10.116:80&#47;repo&#47;hello-world-flask&quot;<br>  Warning  Failed     58s (x4 over 3m54s)  kubelet            Failed to pull image &quot;192.168.10.116:80&#47;repo&#47;hello-world-flask&quot;: rpc error: code = Unknown desc = failed to pull and unpack image &quot;192.168.10.116:80&#47;repo&#47;hello-world-flask:latest&quot;: failed to resolve reference &quot;192.168.10.116:80&#47;repo&#47;hello-world-flask:latest&quot;: failed to do request: Head &quot;https:&#47;&#47;192.168.10.116:80&#47;v2&#47;repo&#47;hello-world-flask&#47;manifests&#47;latest&quot;: dial tcp 192.168.10.116:80: i&#47;o timeout<br>  Warning  Failed     58s (x4 over 3m54s)  kubelet            Error: ErrImagePull<br>  Warning  Failed     46s (x6 over 3m53s)  kubelet            Error: ImagePullBackOff<br>  Normal   BackOff    32s (x7 over 3m53s)  kubelet            Back-off pulling image &quot;192.168.10.116:80&#47;repo&#47;hello-world-flask&quot;<br></div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å°è¯•å‚è€ƒè¿™ä¸ªæ–‡æ¡£ä½¿ç”¨æœ¬åœ°ç§æœ‰ä»“åº“ï¼šhttps:&#47;&#47;kind.sigs.k8s.io&#47;docs&#47;user&#47;local-registry&#47;</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2023-01-02 22:27:58</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/15/f9/04/d53db7d7.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>ç‡•å»é¸¿å½’</span>
  </div>
  <div class="_2_QraFYR_0">æˆ‘æ‰§è¡Œkubectl cluster-info --context kind-kind <br>ç„¶åè®¿é—®https:&#47;&#47;127.0.0.1:52857&#47;ï¼Œ403 äº†<br>{<br>  &quot;kind&quot;: &quot;Status&quot;,<br>  &quot;apiVersion&quot;: &quot;v1&quot;,<br>  &quot;metadata&quot;: {},<br>  &quot;status&quot;: &quot;Failure&quot;,<br>  &quot;message&quot;: &quot;forbidden: User \&quot;system:anonymous\&quot; cannot get path \&quot;&#47;\&quot;&quot;,<br>  &quot;reason&quot;: &quot;Forbidden&quot;,<br>  &quot;details&quot;: {},<br>  &quot;code&quot;: 403<br>}</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: ä½ å¯ä»¥ä½¿ç”¨ kubectl å‘½ä»¤è¡Œå·¥å…·æ¥è®¿é—®é›†ç¾¤å¯¹è±¡ã€‚</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2023-01-01 23:00:15</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLRibTnDs0ZjFrAtfzcwDDFnaX1DEY8qKoFczP8e8ucAdTr7C33bYFDYxpN8VRhgEVsDrBwILO8Msw/132"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>booboo</span>
  </div>
  <div class="_2_QraFYR_0">æ·»åŠ å®Œnginxä¹‹åæ‰§è¡Œ kubectl apply -f flask-pod.yaml ä¸ºä»€ä¹ˆä¼šæŠ¥ä¸‹é¢çš„é”™ï¼Ÿ<br>The Pod &quot;hello-world-flask&quot; is invalid: spec.containers: Forbidden: pod updates may not add or remove containers</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å°è¯•å…ˆç”¨ kubectl delete pod hello-world-flask åˆ é™¤æ—§çš„ Podï¼Œå†ä¿®æ”¹ Yaml å¢åŠ æ–°çš„å®¹å™¨å¹¶é‡æ–° Applyã€‚</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-12-24 11:50:03</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLRibTnDs0ZjFrAtfzcwDDFnaX1DEY8qKoFczP8e8ucAdTr7C33bYFDYxpN8VRhgEVsDrBwILO8Msw/132"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>booboo</span>
  </div>
  <div class="_2_QraFYR_0">ä¿®æ”¹ app.py çš„è¾“å‡ºï¼Œä¿å­˜ååˆ·æ–°æµè§ˆå™¨ï¼Œçœ‹ä¸åˆ°ä¿®æ”¹çš„ç»“æœã€‚</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å°è¯•ä¿®æ”¹ App.py ä¸­ return çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚åˆ é™¤ Helloï¼Œä¿å­˜åå†ä½¿ç”¨ cat å‘½ä»¤ç¡®è®¤ä¸€ä¸‹æ–‡ä»¶å†…å®¹ä¿®æ”¹æ˜¯å¦æˆåŠŸä¿®æ”¹ã€‚</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-12-24 11:40:29</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/13/f6/24/547439f1.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>ghostwritten</span>
  </div>
  <div class="_2_QraFYR_0">1. å¿«é€Ÿéƒ¨ç½² kubernetes é™¤äº† [kind](https:&#47;&#47;blog.csdn.net&#47;xixihahalelehehe&#47;article&#47;details&#47;121968488)<br>è¿˜æœ‰ï¼š<br> - [sealo](https:&#47;&#47;blog.csdn.net&#47;xixihahalelehehe&#47;article&#47;details&#47;127319638)<br> - [minikube](https:&#47;&#47;blog.csdn.net&#47;xixihahalelehehe&#47;article&#47;details&#47;123796854)<br> - [k3s](https:&#47;&#47;blog.csdn.net&#47;xixihahalelehehe&#47;article&#47;details&#47;127691897)<br><br>è®¿é—®podï¼šport-forwardå±äº NodePortï¼Œserviceè¿˜åŒ…å«ï¼šNodePortã€ClusterIPã€LoadBalancerã€<br><br>åˆ›å»ºç¬¬äºŒä¸ªå®¹å™¨ï¼š<br>apiVersion: v1<br>kind: Pod<br>metadata:<br>  name: hello-world-flask<br>spec:<br>  containers:<br>    - name: flask<br>      image: lyzhang1999&#47;hello-world-flask:latest<br>      ports:<br>        - containerPort: 5000<br>    - name: flask<br>      image: nginx:latest<br>      ports:<br>        - containerPort: 80<br>        <br> kubectl apply -f flask-pod.yaml<br> kubectl port-forward pod&#47;hello-world-flask 80:80<br><br>containerPortæ˜¯åœ¨podæ§åˆ¶å™¨ä¸­å®šä¹‰çš„ã€podä¸­çš„å®¹å™¨éœ€è¦æš´éœ²çš„ç«¯å£<br>portå’ŒnodePortéƒ½æ˜¯serviceçš„ç«¯å£ï¼Œå‰è€…æš´éœ²ç»™k8sé›†ç¾¤å†…éƒ¨æœåŠ¡è®¿é—®ï¼Œåè€…æš´éœ²ç»™k8sé›†ç¾¤å¤–éƒ¨æµé‡è®¿é—®</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: ğŸ‘ğŸ»ğŸ‘ğŸ»</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-12-20 00:48:41</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/17/55/e7/86ae89f0.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>Jack</span>
  </div>
  <div class="_2_QraFYR_0">MacBook-Pro-2 gitOps % kubectl get pods                            <br>NAME                READY   STATUS         RESTARTS   AGE<br>hello-world-flask   0&#47;1     ErrImagePull   0          4s<br><br>è€å¸ˆï¼Œkubectl apply -f flask-pod.yamlä¹‹åè¿è¡Œçš„ç»“æœæ˜¯å¤±è´¥çš„ï¼Œå¦‚ä¸Šå›¾ã€‚è¿™ä¸ªå¦‚ä½•è§£å†³å‘¢ï¼Ÿ<br><br>flask-pod.yamlçš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š<br>apiVersion: v1<br>kind: Pod<br>metadata:<br>  name: hello-world-flask<br>spec:<br>  containers:<br>    - name: flask<br>      image: lyzhang1999&#47;hello-world-flask:latest<br>      ports:<br>        - containerPort: 5000</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: çœ‹èµ·æ¥æ˜¯é•œåƒæ‹‰å–å¤±è´¥äº†ï¼Œå»ºè®®å¼€ä¸€å°é¦™æ¸¯ Linux ä¸»æœºå®éªŒã€‚</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-12-12 20:40:15</div>
  </div>
</div>
</div>
</li>
</ul>